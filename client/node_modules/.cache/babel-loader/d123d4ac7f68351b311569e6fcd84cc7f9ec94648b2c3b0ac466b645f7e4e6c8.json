{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useLocation}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const PageTransition=_ref=>{let{children}=_ref;const location=useLocation();const[displayLocation,setDisplayLocation]=useState(location);const[transitionStage,setTransitionStage]=useState('fadeIn');const[isLoading,setIsLoading]=useState(false);useEffect(()=>{if(location!==displayLocation){setIsLoading(true);setTransitionStage('fadeOut');}},[location,displayLocation]);const handleAnimationEnd=()=>{if(transitionStage==='fadeOut'){setDisplayLocation(location);setTransitionStage('fadeIn');// Small delay to show loading state\nsetTimeout(()=>setIsLoading(false),100);}};return/*#__PURE__*/_jsxs(_Fragment,{children:[isLoading&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-lg p-4 flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-6 w-6 border-b-2 border-primary-600\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-700 font-medium\",children:\"Loading...\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"transition-all duration-300 ease-in-out \".concat(transitionStage==='fadeIn'?'opacity-100 translate-y-0':'opacity-0 translate-y-4'),onTransitionEnd:handleAnimationEnd,children:children})]});};export default PageTransition;","map":{"version":3,"names":["React","useEffect","useState","useLocation","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","PageTransition","_ref","children","location","displayLocation","setDisplayLocation","transitionStage","setTransitionStage","isLoading","setIsLoading","handleAnimationEnd","setTimeout","className","concat","onTransitionEnd"],"sources":["C:/Users/Marcelo/OneDrive/Documents/Desktop/e-traffic system/client/src/components/PageTransition.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\n\r\nconst PageTransition = ({ children }) => {\r\n  const location = useLocation();\r\n  const [displayLocation, setDisplayLocation] = useState(location);\r\n  const [transitionStage, setTransitionStage] = useState('fadeIn');\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (location !== displayLocation) {\r\n      setIsLoading(true);\r\n      setTransitionStage('fadeOut');\r\n    }\r\n  }, [location, displayLocation]);\r\n\r\n  const handleAnimationEnd = () => {\r\n    if (transitionStage === 'fadeOut') {\r\n      setDisplayLocation(location);\r\n      setTransitionStage('fadeIn');\r\n      // Small delay to show loading state\r\n      setTimeout(() => setIsLoading(false), 100);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {/* Loading indicator */}\r\n      {isLoading && (\r\n        <div className=\"fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-50\">\r\n          <div className=\"bg-white rounded-lg shadow-lg p-4 flex items-center space-x-3\">\r\n            <div className=\"animate-spin rounded-full h-6 w-6 border-b-2 border-primary-600\"></div>\r\n            <span className=\"text-gray-700 font-medium\">Loading...</span>\r\n          </div>\r\n        </div>\r\n      )}\r\n      \r\n      {/* Page content with transition */}\r\n      <div\r\n        className={`transition-all duration-300 ease-in-out ${\r\n          transitionStage === 'fadeIn' \r\n            ? 'opacity-100 translate-y-0' \r\n            : 'opacity-0 translate-y-4'\r\n        }`}\r\n        onTransitionEnd={handleAnimationEnd}\r\n      >\r\n        {children}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PageTransition;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAE/C,KAAM,CAAAC,cAAc,CAAGC,IAAA,EAAkB,IAAjB,CAAEC,QAAS,CAAC,CAAAD,IAAA,CAClC,KAAM,CAAAE,QAAQ,CAAGV,WAAW,CAAC,CAAC,CAC9B,KAAM,CAACW,eAAe,CAAEC,kBAAkB,CAAC,CAAGb,QAAQ,CAACW,QAAQ,CAAC,CAChE,KAAM,CAACG,eAAe,CAAEC,kBAAkB,CAAC,CAAGf,QAAQ,CAAC,QAAQ,CAAC,CAChE,KAAM,CAACgB,SAAS,CAAEC,YAAY,CAAC,CAAGjB,QAAQ,CAAC,KAAK,CAAC,CAEjDD,SAAS,CAAC,IAAM,CACd,GAAIY,QAAQ,GAAKC,eAAe,CAAE,CAChCK,YAAY,CAAC,IAAI,CAAC,CAClBF,kBAAkB,CAAC,SAAS,CAAC,CAC/B,CACF,CAAC,CAAE,CAACJ,QAAQ,CAAEC,eAAe,CAAC,CAAC,CAE/B,KAAM,CAAAM,kBAAkB,CAAGA,CAAA,GAAM,CAC/B,GAAIJ,eAAe,GAAK,SAAS,CAAE,CACjCD,kBAAkB,CAACF,QAAQ,CAAC,CAC5BI,kBAAkB,CAAC,QAAQ,CAAC,CAC5B;AACAI,UAAU,CAAC,IAAMF,YAAY,CAAC,KAAK,CAAC,CAAE,GAAG,CAAC,CAC5C,CACF,CAAC,CAED,mBACEZ,KAAA,CAAAE,SAAA,EAAAG,QAAA,EAEGM,SAAS,eACRb,IAAA,QAAKiB,SAAS,CAAC,yEAAyE,CAAAV,QAAA,cACtFL,KAAA,QAAKe,SAAS,CAAC,+DAA+D,CAAAV,QAAA,eAC5EP,IAAA,QAAKiB,SAAS,CAAC,iEAAiE,CAAM,CAAC,cACvFjB,IAAA,SAAMiB,SAAS,CAAC,2BAA2B,CAAAV,QAAA,CAAC,YAAU,CAAM,CAAC,EAC1D,CAAC,CACH,CACN,cAGDP,IAAA,QACEiB,SAAS,4CAAAC,MAAA,CACPP,eAAe,GAAK,QAAQ,CACxB,2BAA2B,CAC3B,yBAAyB,CAC5B,CACHQ,eAAe,CAAEJ,kBAAmB,CAAAR,QAAA,CAEnCA,QAAQ,CACN,CAAC,EACN,CAAC,CAEP,CAAC,CAED,cAAe,CAAAF,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}