{"ast":null,"code":"var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, {\n  enumerable: true,\n  configurable: true,\n  writable: true,\n  value\n}) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport { Vector3, TOUCH, Spherical, Vector2, Quaternion, MOUSE, PerspectiveCamera, OrthographicCamera } from \"three\";\nimport { EventDispatcher } from \"../EventDispatcher.js\";\nconst STATE = {\n  NONE: -1,\n  ROTATE: 0,\n  DOLLY: 1,\n  PAN: 2,\n  TOUCH_ROTATE: 3,\n  TOUCH_PAN: 4,\n  TOUCH_DOLLY_PAN: 5,\n  TOUCH_DOLLY_ROTATE: 6\n};\nclass CameraControls extends EventDispatcher {\n  constructor(object, domElement) {\n    super();\n    __publicField(this, \"object\");\n    __publicField(this, \"domElement\");\n    /** Set to false to disable this control */\n    __publicField(this, \"enabled\", true);\n    /** \"target\" sets the location of focus, where the object orbits around */\n    __publicField(this, \"target\", new Vector3());\n    /** Set to true to enable trackball behavior */\n    __publicField(this, \"trackball\", false);\n    /** How far you can dolly in ( PerspectiveCamera only ) */\n    __publicField(this, \"minDistance\", 0);\n    /** How far you can dolly out ( PerspectiveCamera only ) */\n    __publicField(this, \"maxDistance\", Infinity);\n    // How far you can zoom in and out ( OrthographicCamera only )\n    __publicField(this, \"minZoom\", 0);\n    __publicField(this, \"maxZoom\", Infinity);\n    // How far you can orbit vertically, upper and lower limits.\n    // Range is 0 to Math.PI radians.\n    __publicField(this, \"minPolarAngle\", 0);\n    __publicField(this, \"maxPolarAngle\", Math.PI);\n    // How far you can orbit horizontally, upper and lower limits.\n    // If set, must be a sub-interval of the interval [ - Math.PI, Math.PI ].\n    __publicField(this, \"minAzimuthAngle\", -Infinity);\n    // radians\n    __publicField(this, \"maxAzimuthAngle\", Infinity);\n    // radians\n    // Set to true to enable damping (inertia)\n    // If damping is enabled, you must call controls.update() in your animation loop\n    __publicField(this, \"enableDamping\", false);\n    __publicField(this, \"dampingFactor\", 0.05);\n    /**\n     * This option enables dollying in and out; property named as \"zoom\" for backwards compatibility\n     * Set to false to disable zooming\n     */\n    __publicField(this, \"enableZoom\", true);\n    __publicField(this, \"zoomSpeed\", 1);\n    /** Set to false to disable rotating */\n    __publicField(this, \"enableRotate\", true);\n    __publicField(this, \"rotateSpeed\", 1);\n    /** Set to false to disable panning */\n    __publicField(this, \"enablePan\", true);\n    __publicField(this, \"panSpeed\", 1);\n    /** if true, pan in screen-space */\n    __publicField(this, \"screenSpacePanning\", false);\n    /** pixels moved per arrow key push */\n    __publicField(this, \"keyPanSpeed\", 7);\n    /**\n     * Set to true to automatically rotate around the target\n     * If auto-rotate is enabled, you must call controls.update() in your animation loop\n     * auto-rotate is not supported for trackball behavior\n     */\n    __publicField(this, \"autoRotate\", false);\n    __publicField(this, \"autoRotateSpeed\", 2);\n    // 30 seconds per round when fps is 60\n    /** Set to false to disable use of the keys */\n    __publicField(this, \"enableKeys\", true);\n    /** The four arrow keys */\n    __publicField(this, \"keys\", {\n      LEFT: \"ArrowLeft\",\n      UP: \"ArrowUp\",\n      RIGHT: \"ArrowRight\",\n      BOTTOM: \"ArrowDown\"\n    });\n    __publicField(this, \"mouseButtons\");\n    /** Touch fingers */\n    __publicField(this, \"touches\", {\n      ONE: TOUCH.ROTATE,\n      TWO: TOUCH.DOLLY_PAN\n    });\n    // for reset\n    __publicField(this, \"target0\");\n    __publicField(this, \"position0\");\n    __publicField(this, \"quaternion0\");\n    __publicField(this, \"zoom0\");\n    // current position in spherical coordinates\n    __publicField(this, \"spherical\", new Spherical());\n    __publicField(this, \"sphericalDelta\", new Spherical());\n    __publicField(this, \"changeEvent\", {\n      type: \"change\"\n    });\n    __publicField(this, \"startEvent\", {\n      type: \"start\"\n    });\n    __publicField(this, \"endEvent\", {\n      type: \"end\"\n    });\n    __publicField(this, \"state\", STATE.NONE);\n    __publicField(this, \"EPS\", 1e-6);\n    __publicField(this, \"scale\", 1);\n    __publicField(this, \"panOffset\", new Vector3());\n    __publicField(this, \"zoomChanged\", false);\n    __publicField(this, \"rotateStart\", new Vector2());\n    __publicField(this, \"rotateEnd\", new Vector2());\n    __publicField(this, \"rotateDelta\", new Vector2());\n    __publicField(this, \"panStart\", new Vector2());\n    __publicField(this, \"panEnd\", new Vector2());\n    __publicField(this, \"panDelta\", new Vector2());\n    __publicField(this, \"dollyStart\", new Vector2());\n    __publicField(this, \"dollyEnd\", new Vector2());\n    __publicField(this, \"dollyDelta\", new Vector2());\n    __publicField(this, \"offset\", new Vector3());\n    __publicField(this, \"lastPosition\", new Vector3());\n    __publicField(this, \"lastQuaternion\", new Quaternion());\n    __publicField(this, \"q\", new Quaternion());\n    __publicField(this, \"v\", new Vector3());\n    __publicField(this, \"vec\", new Vector3());\n    __publicField(this, \"quat\");\n    __publicField(this, \"quatInverse\");\n    __publicField(this, \"getPolarAngle\", () => this.spherical.phi);\n    __publicField(this, \"getAzimuthalAngle\", () => this.spherical.theta);\n    __publicField(this, \"saveState\", () => {\n      this.target0.copy(this.target);\n      this.position0.copy(this.object.position);\n      this.quaternion0.copy(this.object.quaternion);\n      this.zoom0 = this.object.zoom;\n    });\n    __publicField(this, \"reset\", () => {\n      this.target.copy(this.target0);\n      this.object.position.copy(this.position0);\n      this.object.quaternion.copy(this.quaternion0);\n      this.object.zoom = this.zoom0;\n      this.object.updateProjectionMatrix();\n      this.dispatchEvent(this.changeEvent);\n      this.update();\n      this.state = STATE.NONE;\n    });\n    __publicField(this, \"dispose\", () => {\n      this.domElement.removeEventListener(\"contextmenu\", this.onContextMenu, false);\n      this.domElement.removeEventListener(\"mousedown\", this.onMouseDown, false);\n      this.domElement.removeEventListener(\"wheel\", this.onMouseWheel, false);\n      this.domElement.removeEventListener(\"touchstart\", this.onTouchStart, false);\n      this.domElement.removeEventListener(\"touchend\", this.onTouchEnd, false);\n      this.domElement.removeEventListener(\"touchmove\", this.onTouchMove, false);\n      document.removeEventListener(\"mousemove\", this.onMouseMove, false);\n      document.removeEventListener(\"mouseup\", this.onMouseUp, false);\n      this.domElement.removeEventListener(\"keydown\", this.onKeyDown, false);\n    });\n    __publicField(this, \"update\", () => {\n      const position = this.object.position;\n      this.offset.copy(position).sub(this.target);\n      if (this.trackball) {\n        if (this.sphericalDelta.theta) {\n          this.vec.set(0, 1, 0).applyQuaternion(this.object.quaternion);\n          const factor = this.enableDamping ? this.dampingFactor : 1;\n          this.q.setFromAxisAngle(this.vec, this.sphericalDelta.theta * factor);\n          this.object.quaternion.premultiply(this.q);\n          this.offset.applyQuaternion(this.q);\n        }\n        if (this.sphericalDelta.phi) {\n          this.vec.set(1, 0, 0).applyQuaternion(this.object.quaternion);\n          const factor = this.enableDamping ? this.dampingFactor : 1;\n          this.q.setFromAxisAngle(this.vec, this.sphericalDelta.phi * factor);\n          this.object.quaternion.premultiply(this.q);\n          this.offset.applyQuaternion(this.q);\n        }\n        this.offset.multiplyScalar(this.scale);\n        this.offset.clampLength(this.minDistance, this.maxDistance);\n      } else {\n        this.offset.applyQuaternion(this.quat);\n        if (this.autoRotate && this.state === STATE.NONE) {\n          this.rotateLeft(this.getAutoRotationAngle());\n        }\n        this.spherical.setFromVector3(this.offset);\n        if (this.enableDamping) {\n          this.spherical.theta += this.sphericalDelta.theta * this.dampingFactor;\n          this.spherical.phi += this.sphericalDelta.phi * this.dampingFactor;\n        } else {\n          this.spherical.theta += this.sphericalDelta.theta;\n          this.spherical.phi += this.sphericalDelta.phi;\n        }\n        this.spherical.theta = Math.max(this.minAzimuthAngle, Math.min(this.maxAzimuthAngle, this.spherical.theta));\n        this.spherical.phi = Math.max(this.minPolarAngle, Math.min(this.maxPolarAngle, this.spherical.phi));\n        this.spherical.makeSafe();\n        this.spherical.radius *= this.scale;\n        this.spherical.radius = Math.max(this.minDistance, Math.min(this.maxDistance, this.spherical.radius));\n        this.offset.setFromSpherical(this.spherical);\n        this.offset.applyQuaternion(this.quatInverse);\n      }\n      if (this.enableDamping === true) {\n        this.target.addScaledVector(this.panOffset, this.dampingFactor);\n      } else {\n        this.target.add(this.panOffset);\n      }\n      position.copy(this.target).add(this.offset);\n      if (this.trackball === false) {\n        this.object.lookAt(this.target);\n      }\n      if (this.enableDamping === true) {\n        this.sphericalDelta.theta *= 1 - this.dampingFactor;\n        this.sphericalDelta.phi *= 1 - this.dampingFactor;\n        this.panOffset.multiplyScalar(1 - this.dampingFactor);\n      } else {\n        this.sphericalDelta.set(0, 0, 0);\n        this.panOffset.set(0, 0, 0);\n      }\n      this.scale = 1;\n      if (this.zoomChanged || this.lastPosition.distanceToSquared(this.object.position) > this.EPS || 8 * (1 - this.lastQuaternion.dot(this.object.quaternion)) > this.EPS) {\n        this.dispatchEvent(this.changeEvent);\n        this.lastPosition.copy(this.object.position);\n        this.lastQuaternion.copy(this.object.quaternion);\n        this.zoomChanged = false;\n        return true;\n      }\n      return false;\n    });\n    __publicField(this, \"getAutoRotationAngle\", () => 2 * Math.PI / 60 / 60 * this.autoRotateSpeed);\n    __publicField(this, \"getZoomScale\", () => Math.pow(0.95, this.zoomSpeed));\n    __publicField(this, \"rotateLeft\", angle => {\n      this.sphericalDelta.theta -= angle;\n    });\n    __publicField(this, \"rotateUp\", angle => {\n      this.sphericalDelta.phi -= angle;\n    });\n    __publicField(this, \"panLeft\", (distance, objectMatrix) => {\n      this.v.setFromMatrixColumn(objectMatrix, 0);\n      this.v.multiplyScalar(-distance);\n      this.panOffset.add(this.v);\n    });\n    __publicField(this, \"panUp\", (distance, objectMatrix) => {\n      if (this.screenSpacePanning === true) {\n        this.v.setFromMatrixColumn(objectMatrix, 1);\n      } else {\n        this.v.setFromMatrixColumn(objectMatrix, 0);\n        this.v.crossVectors(this.object.up, this.v);\n      }\n      this.v.multiplyScalar(distance);\n      this.panOffset.add(this.v);\n    });\n    // deltaX and deltaY are in pixels; right and down are positive\n    __publicField(this, \"pan\", (deltaX, deltaY) => {\n      const element = this.domElement;\n      if (this.object instanceof PerspectiveCamera) {\n        const position = this.object.position;\n        this.offset.copy(position).sub(this.target);\n        let targetDistance = this.offset.length();\n        targetDistance *= Math.tan(this.object.fov / 2 * Math.PI / 180);\n        this.panLeft(2 * deltaX * targetDistance / element.clientHeight, this.object.matrix);\n        this.panUp(2 * deltaY * targetDistance / element.clientHeight, this.object.matrix);\n      } else if (this.object.isOrthographicCamera) {\n        this.panLeft(deltaX * (this.object.right - this.object.left) / this.object.zoom / element.clientWidth, this.object.matrix);\n        this.panUp(deltaY * (this.object.top - this.object.bottom) / this.object.zoom / element.clientHeight, this.object.matrix);\n      } else {\n        console.warn(\"WARNING: CameraControls.js encountered an unknown camera type - pan disabled.\");\n        this.enablePan = false;\n      }\n    });\n    __publicField(this, \"dollyIn\", dollyScale => {\n      if (this.object instanceof PerspectiveCamera) {\n        this.scale /= dollyScale;\n      } else if (this.object instanceof OrthographicCamera) {\n        this.object.zoom = Math.max(this.minZoom, Math.min(this.maxZoom, this.object.zoom * dollyScale));\n        this.object.updateProjectionMatrix();\n        this.zoomChanged = true;\n      } else {\n        console.warn(\"WARNING: CameraControls.js encountered an unknown camera type - dolly/zoom disabled.\");\n        this.enableZoom = false;\n      }\n    });\n    __publicField(this, \"dollyOut\", dollyScale => {\n      if (this.object instanceof PerspectiveCamera) {\n        this.scale *= dollyScale;\n      } else if (this.object instanceof OrthographicCamera) {\n        this.object.zoom = Math.max(this.minZoom, Math.min(this.maxZoom, this.object.zoom / dollyScale));\n        this.object.updateProjectionMatrix();\n        this.zoomChanged = true;\n      } else {\n        console.warn(\"WARNING: CameraControls.js encountered an unknown camera type - dolly/zoom disabled.\");\n        this.enableZoom = false;\n      }\n    });\n    // event callbacks - update the object state\n    __publicField(this, \"handleMouseDownRotate\", event => {\n      this.rotateStart.set(event.clientX, event.clientY);\n    });\n    // TODO: confirm if worthwhile to return the Vector2 instead of void\n    __publicField(this, \"handleMouseDownDolly\", event => {\n      this.dollyStart.set(event.clientX, event.clientY);\n    });\n    __publicField(this, \"handleMouseDownPan\", event => {\n      this.panStart.set(event.clientX, event.clientY);\n    });\n    __publicField(this, \"handleMouseMoveRotate\", event => {\n      this.rotateEnd.set(event.clientX, event.clientY);\n      this.rotateDelta.subVectors(this.rotateEnd, this.rotateStart).multiplyScalar(this.rotateSpeed);\n      const element = this.domElement;\n      this.rotateLeft(2 * Math.PI * this.rotateDelta.x / element.clientHeight);\n      this.rotateUp(2 * Math.PI * this.rotateDelta.y / element.clientHeight);\n      this.rotateStart.copy(this.rotateEnd);\n      this.update();\n    });\n    __publicField(this, \"handleMouseMoveDolly\", event => {\n      this.dollyEnd.set(event.clientX, event.clientY);\n      this.dollyDelta.subVectors(this.dollyEnd, this.dollyStart);\n      if (this.dollyDelta.y > 0) {\n        this.dollyIn(this.getZoomScale());\n      } else if (this.dollyDelta.y < 0) {\n        this.dollyOut(this.getZoomScale());\n      }\n      this.dollyStart.copy(this.dollyEnd);\n      this.update();\n    });\n    __publicField(this, \"handleMouseMovePan\", event => {\n      this.panEnd.set(event.clientX, event.clientY);\n      this.panDelta.subVectors(this.panEnd, this.panStart).multiplyScalar(this.panSpeed);\n      this.pan(this.panDelta.x, this.panDelta.y);\n      this.panStart.copy(this.panEnd);\n      this.update();\n    });\n    __publicField(this, \"handleMouseWheel\", event => {\n      if (event.deltaY < 0) {\n        this.dollyOut(this.getZoomScale());\n      } else if (event.deltaY > 0) {\n        this.dollyIn(this.getZoomScale());\n      }\n      this.update();\n    });\n    __publicField(this, \"handleKeyDown\", event => {\n      let needsUpdate = false;\n      switch (event.code) {\n        case this.keys.UP:\n          this.pan(0, this.keyPanSpeed);\n          needsUpdate = true;\n          break;\n        case this.keys.BOTTOM:\n          this.pan(0, -this.keyPanSpeed);\n          needsUpdate = true;\n          break;\n        case this.keys.LEFT:\n          this.pan(this.keyPanSpeed, 0);\n          needsUpdate = true;\n          break;\n        case this.keys.RIGHT:\n          this.pan(-this.keyPanSpeed, 0);\n          needsUpdate = true;\n          break;\n      }\n      if (needsUpdate) {\n        event.preventDefault();\n        this.update();\n      }\n    });\n    __publicField(this, \"handleTouchStartRotate\", event => {\n      if (event.touches.length == 1) {\n        this.rotateStart.set(event.touches[0].pageX, event.touches[0].pageY);\n      } else {\n        const x = 0.5 * (event.touches[0].pageX + event.touches[1].pageX);\n        const y = 0.5 * (event.touches[0].pageY + event.touches[1].pageY);\n        this.rotateStart.set(x, y);\n      }\n    });\n    __publicField(this, \"handleTouchStartPan\", event => {\n      if (event.touches.length == 1) {\n        this.panStart.set(event.touches[0].pageX, event.touches[0].pageY);\n      } else {\n        const x = 0.5 * (event.touches[0].pageX + event.touches[1].pageX);\n        const y = 0.5 * (event.touches[0].pageY + event.touches[1].pageY);\n        this.panStart.set(x, y);\n      }\n    });\n    __publicField(this, \"handleTouchStartDolly\", event => {\n      const dx = event.touches[0].pageX - event.touches[1].pageX;\n      const dy = event.touches[0].pageY - event.touches[1].pageY;\n      const distance = Math.sqrt(dx * dx + dy * dy);\n      this.dollyStart.set(0, distance);\n    });\n    __publicField(this, \"handleTouchStartDollyPan\", event => {\n      if (this.enableZoom) this.handleTouchStartDolly(event);\n      if (this.enablePan) this.handleTouchStartPan(event);\n    });\n    __publicField(this, \"handleTouchStartDollyRotate\", event => {\n      if (this.enableZoom) this.handleTouchStartDolly(event);\n      if (this.enableRotate) this.handleTouchStartRotate(event);\n    });\n    __publicField(this, \"handleTouchMoveRotate\", event => {\n      if (event.touches.length == 1) {\n        this.rotateEnd.set(event.touches[0].pageX, event.touches[0].pageY);\n      } else {\n        const x = 0.5 * (event.touches[0].pageX + event.touches[1].pageX);\n        const y = 0.5 * (event.touches[0].pageY + event.touches[1].pageY);\n        this.rotateEnd.set(x, y);\n      }\n      this.rotateDelta.subVectors(this.rotateEnd, this.rotateStart).multiplyScalar(this.rotateSpeed);\n      const element = this.domElement;\n      this.rotateLeft(2 * Math.PI * this.rotateDelta.x / element.clientHeight);\n      this.rotateUp(2 * Math.PI * this.rotateDelta.y / element.clientHeight);\n      this.rotateStart.copy(this.rotateEnd);\n    });\n    __publicField(this, \"handleTouchMovePan\", event => {\n      if (event.touches.length == 1) {\n        this.panEnd.set(event.touches[0].pageX, event.touches[0].pageY);\n      } else {\n        const x = 0.5 * (event.touches[0].pageX + event.touches[1].pageX);\n        const y = 0.5 * (event.touches[0].pageY + event.touches[1].pageY);\n        this.panEnd.set(x, y);\n      }\n      this.panDelta.subVectors(this.panEnd, this.panStart).multiplyScalar(this.panSpeed);\n      this.pan(this.panDelta.x, this.panDelta.y);\n      this.panStart.copy(this.panEnd);\n    });\n    __publicField(this, \"handleTouchMoveDolly\", event => {\n      const dx = event.touches[0].pageX - event.touches[1].pageX;\n      const dy = event.touches[0].pageY - event.touches[1].pageY;\n      const distance = Math.sqrt(dx * dx + dy * dy);\n      this.dollyEnd.set(0, distance);\n      this.dollyDelta.set(0, Math.pow(this.dollyEnd.y / this.dollyStart.y, this.zoomSpeed));\n      this.dollyIn(this.dollyDelta.y);\n      this.dollyStart.copy(this.dollyEnd);\n    });\n    __publicField(this, \"handleTouchMoveDollyPan\", event => {\n      if (this.enableZoom) this.handleTouchMoveDolly(event);\n      if (this.enablePan) this.handleTouchMovePan(event);\n    });\n    __publicField(this, \"handleTouchMoveDollyRotate\", event => {\n      if (this.enableZoom) this.handleTouchMoveDolly(event);\n      if (this.enableRotate) this.handleTouchMoveRotate(event);\n    });\n    //\n    // event handlers - FSM: listen for events and reset state\n    //\n    __publicField(this, \"onMouseDown\", event => {\n      if (this.enabled === false) return;\n      event.preventDefault();\n      this.domElement.focus ? this.domElement.focus() : window.focus();\n      let mouseAction;\n      switch (event.button) {\n        case 0:\n          mouseAction = this.mouseButtons.LEFT;\n          break;\n        case 1:\n          mouseAction = this.mouseButtons.MIDDLE;\n          break;\n        case 2:\n          mouseAction = this.mouseButtons.RIGHT;\n          break;\n        default:\n          mouseAction = -1;\n      }\n      switch (mouseAction) {\n        case MOUSE.DOLLY:\n          if (this.enableZoom === false) return;\n          this.handleMouseDownDolly(event);\n          this.state = STATE.DOLLY;\n          break;\n        case MOUSE.ROTATE:\n          if (event.ctrlKey || event.metaKey || event.shiftKey) {\n            if (this.enablePan === false) return;\n            this.handleMouseDownPan(event);\n            this.state = STATE.PAN;\n          } else {\n            if (this.enableRotate === false) return;\n            this.handleMouseDownRotate(event);\n            this.state = STATE.ROTATE;\n          }\n          break;\n        case MOUSE.PAN:\n          if (event.ctrlKey || event.metaKey || event.shiftKey) {\n            if (this.enableRotate === false) return;\n            this.handleMouseDownRotate(event);\n            this.state = STATE.ROTATE;\n          } else {\n            if (this.enablePan === false) return;\n            this.handleMouseDownPan(event);\n            this.state = STATE.PAN;\n          }\n          break;\n        default:\n          this.state = STATE.NONE;\n      }\n      if (this.state !== STATE.NONE) {\n        document.addEventListener(\"mousemove\", this.onMouseMove, false);\n        document.addEventListener(\"mouseup\", this.onMouseUp, false);\n        this.dispatchEvent(this.startEvent);\n      }\n    });\n    __publicField(this, \"onMouseMove\", event => {\n      if (this.enabled === false) return;\n      event.preventDefault();\n      switch (this.state) {\n        case STATE.ROTATE:\n          if (this.enableRotate === false) return;\n          this.handleMouseMoveRotate(event);\n          break;\n        case STATE.DOLLY:\n          if (this.enableZoom === false) return;\n          this.handleMouseMoveDolly(event);\n          break;\n        case STATE.PAN:\n          if (this.enablePan === false) return;\n          this.handleMouseMovePan(event);\n          break;\n      }\n    });\n    __publicField(this, \"onMouseUp\", () => {\n      if (this.enabled === false) return;\n      document.removeEventListener(\"mousemove\", this.onMouseMove, false);\n      document.removeEventListener(\"mouseup\", this.onMouseUp, false);\n      this.dispatchEvent(this.endEvent);\n      this.state = STATE.NONE;\n    });\n    __publicField(this, \"onMouseWheel\", event => {\n      if (this.enabled === false || this.enableZoom === false || this.state !== STATE.NONE && this.state !== STATE.ROTATE) {\n        return;\n      }\n      event.preventDefault();\n      this.dispatchEvent(this.startEvent);\n      this.handleMouseWheel(event);\n      this.dispatchEvent(this.endEvent);\n    });\n    __publicField(this, \"onKeyDown\", event => {\n      if (this.enabled === false || this.enableKeys === false || this.enablePan === false) return;\n      this.handleKeyDown(event);\n    });\n    __publicField(this, \"onTouchStart\", event => {\n      if (this.enabled === false) return;\n      event.preventDefault();\n      switch (event.touches.length) {\n        case 1:\n          switch (this.touches.ONE) {\n            case TOUCH.ROTATE:\n              if (this.enableRotate === false) return;\n              this.handleTouchStartRotate(event);\n              this.state = STATE.TOUCH_ROTATE;\n              break;\n            case TOUCH.PAN:\n              if (this.enablePan === false) return;\n              this.handleTouchStartPan(event);\n              this.state = STATE.TOUCH_PAN;\n              break;\n            default:\n              this.state = STATE.NONE;\n          }\n          break;\n        case 2:\n          switch (this.touches.TWO) {\n            case TOUCH.DOLLY_PAN:\n              if (this.enableZoom === false && this.enablePan === false) return;\n              this.handleTouchStartDollyPan(event);\n              this.state = STATE.TOUCH_DOLLY_PAN;\n              break;\n            case TOUCH.DOLLY_ROTATE:\n              if (this.enableZoom === false && this.enableRotate === false) return;\n              this.handleTouchStartDollyRotate(event);\n              this.state = STATE.TOUCH_DOLLY_ROTATE;\n              break;\n            default:\n              this.state = STATE.NONE;\n          }\n          break;\n        default:\n          this.state = STATE.NONE;\n      }\n      if (this.state !== STATE.NONE) {\n        this.dispatchEvent(this.startEvent);\n      }\n    });\n    __publicField(this, \"onTouchMove\", event => {\n      if (this.enabled === false) return;\n      event.preventDefault();\n      switch (this.state) {\n        case STATE.TOUCH_ROTATE:\n          if (this.enableRotate === false) return;\n          this.handleTouchMoveRotate(event);\n          this.update();\n          break;\n        case STATE.TOUCH_PAN:\n          if (this.enablePan === false) return;\n          this.handleTouchMovePan(event);\n          this.update();\n          break;\n        case STATE.TOUCH_DOLLY_PAN:\n          if (this.enableZoom === false && this.enablePan === false) return;\n          this.handleTouchMoveDollyPan(event);\n          this.update();\n          break;\n        case STATE.TOUCH_DOLLY_ROTATE:\n          if (this.enableZoom === false && this.enableRotate === false) return;\n          this.handleTouchMoveDollyRotate(event);\n          this.update();\n          break;\n        default:\n          this.state = STATE.NONE;\n      }\n    });\n    __publicField(this, \"onTouchEnd\", () => {\n      if (this.enabled === false) return;\n      this.dispatchEvent(this.endEvent);\n      this.state = STATE.NONE;\n    });\n    __publicField(this, \"onContextMenu\", event => {\n      if (this.enabled === false) return;\n      event.preventDefault();\n    });\n    if (domElement === void 0) {\n      console.warn('THREE.CameraControls: The second parameter \"domElement\" is now mandatory.');\n    }\n    if (domElement instanceof Document) {\n      console.error('THREE.CameraControls: \"document\" should not be used as the target \"domElement\". Please use \"renderer.domElement\" instead.');\n    }\n    this.object = object;\n    this.domElement = domElement;\n    this.mouseButtons = {\n      LEFT: MOUSE.ROTATE,\n      MIDDLE: MOUSE.DOLLY,\n      RIGHT: MOUSE.PAN\n    };\n    this.target0 = this.target.clone();\n    this.position0 = this.object.position.clone();\n    this.quaternion0 = this.object.quaternion.clone();\n    this.zoom0 = this.object.zoom;\n    this.quat = new Quaternion().setFromUnitVectors(this.object.up, new Vector3(0, 1, 0));\n    this.quatInverse = this.quat.clone().invert();\n    this.lastPosition = new Vector3();\n    this.lastQuaternion = new Quaternion();\n    this.domElement.addEventListener(\"contextmenu\", this.onContextMenu, false);\n    this.domElement.addEventListener(\"mousedown\", this.onMouseDown, false);\n    this.domElement.addEventListener(\"wheel\", this.onMouseWheel, false);\n    this.domElement.addEventListener(\"touchstart\", this.onTouchStart, false);\n    this.domElement.addEventListener(\"touchend\", this.onTouchEnd, false);\n    this.domElement.addEventListener(\"touchmove\", this.onTouchMove, false);\n    this.domElement.addEventListener(\"keydown\", this.onKeyDown, false);\n    if (this.domElement.tabIndex === -1) {\n      this.domElement.tabIndex = 0;\n    }\n    this.object.lookAt(this.target);\n    this.update();\n    this.saveState();\n  }\n  handleMouseUp() {}\n  handleTouchEnd() {}\n}\nclass OrbitControlsExp extends CameraControls {\n  constructor(object, domElement) {\n    super(object, domElement);\n    __publicField(this, \"mouseButtons\");\n    __publicField(this, \"touches\");\n    this.mouseButtons = {\n      LEFT: MOUSE.ROTATE,\n      RIGHT: MOUSE.PAN\n    };\n    this.touches = {\n      ONE: TOUCH.ROTATE,\n      TWO: TOUCH.DOLLY_PAN\n    };\n  }\n}\nclass MapControlsExp extends CameraControls {\n  constructor(object, domElement) {\n    super(object, domElement);\n    __publicField(this, \"mouseButtons\");\n    __publicField(this, \"touches\");\n    this.mouseButtons = {\n      LEFT: MOUSE.PAN,\n      RIGHT: MOUSE.ROTATE\n    };\n    this.touches = {\n      ONE: TOUCH.PAN,\n      TWO: TOUCH.DOLLY_ROTATE\n    };\n  }\n}\nclass TrackballControlsExp extends CameraControls {\n  constructor(object, domElement) {\n    super(object, domElement);\n    __publicField(this, \"trackball\");\n    __publicField(this, \"screenSpacePanning\");\n    __publicField(this, \"autoRotate\");\n    __publicField(this, \"mouseButtons\");\n    __publicField(this, \"touches\");\n    this.trackball = true;\n    this.screenSpacePanning = true;\n    this.autoRotate = false;\n    this.mouseButtons = {\n      LEFT: MOUSE.ROTATE,\n      RIGHT: MOUSE.PAN\n    };\n    this.touches = {\n      ONE: TOUCH.ROTATE,\n      TWO: TOUCH.DOLLY_PAN\n    };\n  }\n}\nexport { CameraControls, MapControlsExp, OrbitControlsExp, STATE, TrackballControlsExp };","map":{"version":3,"names":["__defProp","Object","defineProperty","__defNormalProp","obj","key","value","enumerable","configurable","writable","__publicField","Vector3","TOUCH","Spherical","Vector2","Quaternion","MOUSE","PerspectiveCamera","OrthographicCamera","EventDispatcher","STATE","NONE","ROTATE","DOLLY","PAN","TOUCH_ROTATE","TOUCH_PAN","TOUCH_DOLLY_PAN","TOUCH_DOLLY_ROTATE","CameraControls","constructor","object","domElement","Infinity","Math","PI","LEFT","UP","RIGHT","BOTTOM","ONE","TWO","DOLLY_PAN","type","spherical","phi","theta","target0","copy","target","position0","position","quaternion0","quaternion","zoom0","zoom","updateProjectionMatrix","dispatchEvent","changeEvent","update","state","removeEventListener","onContextMenu","onMouseDown","onMouseWheel","onTouchStart","onTouchEnd","onTouchMove","document","onMouseMove","onMouseUp","onKeyDown","offset","sub","trackball","sphericalDelta","vec","set","applyQuaternion","factor","enableDamping","dampingFactor","q","setFromAxisAngle","premultiply","multiplyScalar","scale","clampLength","minDistance","maxDistance","quat","autoRotate","rotateLeft","getAutoRotationAngle","setFromVector3","max","minAzimuthAngle","min","maxAzimuthAngle","minPolarAngle","maxPolarAngle","makeSafe","radius","setFromSpherical","quatInverse","addScaledVector","panOffset","add","lookAt","zoomChanged","lastPosition","distanceToSquared","EPS","lastQuaternion","dot","autoRotateSpeed","pow","zoomSpeed","angle","distance","objectMatrix","v","setFromMatrixColumn","screenSpacePanning","crossVectors","up","deltaX","deltaY","element","targetDistance","length","tan","fov","panLeft","clientHeight","matrix","panUp","isOrthographicCamera","right","left","clientWidth","top","bottom","console","warn","enablePan","dollyScale","minZoom","maxZoom","enableZoom","event","rotateStart","clientX","clientY","dollyStart","panStart","rotateEnd","rotateDelta","subVectors","rotateSpeed","x","rotateUp","y","dollyEnd","dollyDelta","dollyIn","getZoomScale","dollyOut","panEnd","panDelta","panSpeed","pan","needsUpdate","code","keys","keyPanSpeed","preventDefault","touches","pageX","pageY","dx","dy","sqrt","handleTouchStartDolly","handleTouchStartPan","enableRotate","handleTouchStartRotate","handleTouchMoveDolly","handleTouchMovePan","handleTouchMoveRotate","enabled","focus","window","mouseAction","button","mouseButtons","MIDDLE","handleMouseDownDolly","ctrlKey","metaKey","shiftKey","handleMouseDownPan","handleMouseDownRotate","addEventListener","startEvent","handleMouseMoveRotate","handleMouseMoveDolly","handleMouseMovePan","endEvent","handleMouseWheel","enableKeys","handleKeyDown","handleTouchStartDollyPan","DOLLY_ROTATE","handleTouchStartDollyRotate","handleTouchMoveDollyPan","handleTouchMoveDollyRotate","Document","error","clone","setFromUnitVectors","invert","tabIndex","saveState","handleMouseUp","handleTouchEnd","OrbitControlsExp","MapControlsExp","TrackballControlsExp"],"sources":["C:/Users/Marcelo/OneDrive/Documents/Desktop/e-traffic system/client/node_modules/three-stdlib/controls/experimental/CameraControls.js"],"sourcesContent":["var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport { Vector3, TOUCH, Spherical, Vector2, Quaternion, MOUSE, PerspectiveCamera, OrthographicCamera } from \"three\";\nimport { EventDispatcher } from \"../EventDispatcher.js\";\nconst STATE = {\n  NONE: -1,\n  ROTATE: 0,\n  DOLLY: 1,\n  PAN: 2,\n  TOUCH_ROTATE: 3,\n  TOUCH_PAN: 4,\n  TOUCH_DOLLY_PAN: 5,\n  TOUCH_DOLLY_ROTATE: 6\n};\nclass CameraControls extends EventDispatcher {\n  constructor(object, domElement) {\n    super();\n    __publicField(this, \"object\");\n    __publicField(this, \"domElement\");\n    /** Set to false to disable this control */\n    __publicField(this, \"enabled\", true);\n    /** \"target\" sets the location of focus, where the object orbits around */\n    __publicField(this, \"target\", new Vector3());\n    /** Set to true to enable trackball behavior */\n    __publicField(this, \"trackball\", false);\n    /** How far you can dolly in ( PerspectiveCamera only ) */\n    __publicField(this, \"minDistance\", 0);\n    /** How far you can dolly out ( PerspectiveCamera only ) */\n    __publicField(this, \"maxDistance\", Infinity);\n    // How far you can zoom in and out ( OrthographicCamera only )\n    __publicField(this, \"minZoom\", 0);\n    __publicField(this, \"maxZoom\", Infinity);\n    // How far you can orbit vertically, upper and lower limits.\n    // Range is 0 to Math.PI radians.\n    __publicField(this, \"minPolarAngle\", 0);\n    __publicField(this, \"maxPolarAngle\", Math.PI);\n    // How far you can orbit horizontally, upper and lower limits.\n    // If set, must be a sub-interval of the interval [ - Math.PI, Math.PI ].\n    __publicField(this, \"minAzimuthAngle\", -Infinity);\n    // radians\n    __publicField(this, \"maxAzimuthAngle\", Infinity);\n    // radians\n    // Set to true to enable damping (inertia)\n    // If damping is enabled, you must call controls.update() in your animation loop\n    __publicField(this, \"enableDamping\", false);\n    __publicField(this, \"dampingFactor\", 0.05);\n    /**\n     * This option enables dollying in and out; property named as \"zoom\" for backwards compatibility\n     * Set to false to disable zooming\n     */\n    __publicField(this, \"enableZoom\", true);\n    __publicField(this, \"zoomSpeed\", 1);\n    /** Set to false to disable rotating */\n    __publicField(this, \"enableRotate\", true);\n    __publicField(this, \"rotateSpeed\", 1);\n    /** Set to false to disable panning */\n    __publicField(this, \"enablePan\", true);\n    __publicField(this, \"panSpeed\", 1);\n    /** if true, pan in screen-space */\n    __publicField(this, \"screenSpacePanning\", false);\n    /** pixels moved per arrow key push */\n    __publicField(this, \"keyPanSpeed\", 7);\n    /**\n     * Set to true to automatically rotate around the target\n     * If auto-rotate is enabled, you must call controls.update() in your animation loop\n     * auto-rotate is not supported for trackball behavior\n     */\n    __publicField(this, \"autoRotate\", false);\n    __publicField(this, \"autoRotateSpeed\", 2);\n    // 30 seconds per round when fps is 60\n    /** Set to false to disable use of the keys */\n    __publicField(this, \"enableKeys\", true);\n    /** The four arrow keys */\n    __publicField(this, \"keys\", { LEFT: \"ArrowLeft\", UP: \"ArrowUp\", RIGHT: \"ArrowRight\", BOTTOM: \"ArrowDown\" });\n    __publicField(this, \"mouseButtons\");\n    /** Touch fingers */\n    __publicField(this, \"touches\", { ONE: TOUCH.ROTATE, TWO: TOUCH.DOLLY_PAN });\n    // for reset\n    __publicField(this, \"target0\");\n    __publicField(this, \"position0\");\n    __publicField(this, \"quaternion0\");\n    __publicField(this, \"zoom0\");\n    // current position in spherical coordinates\n    __publicField(this, \"spherical\", new Spherical());\n    __publicField(this, \"sphericalDelta\", new Spherical());\n    __publicField(this, \"changeEvent\", { type: \"change\" });\n    __publicField(this, \"startEvent\", { type: \"start\" });\n    __publicField(this, \"endEvent\", { type: \"end\" });\n    __publicField(this, \"state\", STATE.NONE);\n    __publicField(this, \"EPS\", 1e-6);\n    __publicField(this, \"scale\", 1);\n    __publicField(this, \"panOffset\", new Vector3());\n    __publicField(this, \"zoomChanged\", false);\n    __publicField(this, \"rotateStart\", new Vector2());\n    __publicField(this, \"rotateEnd\", new Vector2());\n    __publicField(this, \"rotateDelta\", new Vector2());\n    __publicField(this, \"panStart\", new Vector2());\n    __publicField(this, \"panEnd\", new Vector2());\n    __publicField(this, \"panDelta\", new Vector2());\n    __publicField(this, \"dollyStart\", new Vector2());\n    __publicField(this, \"dollyEnd\", new Vector2());\n    __publicField(this, \"dollyDelta\", new Vector2());\n    __publicField(this, \"offset\", new Vector3());\n    __publicField(this, \"lastPosition\", new Vector3());\n    __publicField(this, \"lastQuaternion\", new Quaternion());\n    __publicField(this, \"q\", new Quaternion());\n    __publicField(this, \"v\", new Vector3());\n    __publicField(this, \"vec\", new Vector3());\n    __publicField(this, \"quat\");\n    __publicField(this, \"quatInverse\");\n    __publicField(this, \"getPolarAngle\", () => this.spherical.phi);\n    __publicField(this, \"getAzimuthalAngle\", () => this.spherical.theta);\n    __publicField(this, \"saveState\", () => {\n      this.target0.copy(this.target);\n      this.position0.copy(this.object.position);\n      this.quaternion0.copy(this.object.quaternion);\n      this.zoom0 = this.object.zoom;\n    });\n    __publicField(this, \"reset\", () => {\n      this.target.copy(this.target0);\n      this.object.position.copy(this.position0);\n      this.object.quaternion.copy(this.quaternion0);\n      this.object.zoom = this.zoom0;\n      this.object.updateProjectionMatrix();\n      this.dispatchEvent(this.changeEvent);\n      this.update();\n      this.state = STATE.NONE;\n    });\n    __publicField(this, \"dispose\", () => {\n      this.domElement.removeEventListener(\"contextmenu\", this.onContextMenu, false);\n      this.domElement.removeEventListener(\"mousedown\", this.onMouseDown, false);\n      this.domElement.removeEventListener(\"wheel\", this.onMouseWheel, false);\n      this.domElement.removeEventListener(\"touchstart\", this.onTouchStart, false);\n      this.domElement.removeEventListener(\"touchend\", this.onTouchEnd, false);\n      this.domElement.removeEventListener(\"touchmove\", this.onTouchMove, false);\n      document.removeEventListener(\"mousemove\", this.onMouseMove, false);\n      document.removeEventListener(\"mouseup\", this.onMouseUp, false);\n      this.domElement.removeEventListener(\"keydown\", this.onKeyDown, false);\n    });\n    __publicField(this, \"update\", () => {\n      const position = this.object.position;\n      this.offset.copy(position).sub(this.target);\n      if (this.trackball) {\n        if (this.sphericalDelta.theta) {\n          this.vec.set(0, 1, 0).applyQuaternion(this.object.quaternion);\n          const factor = this.enableDamping ? this.dampingFactor : 1;\n          this.q.setFromAxisAngle(this.vec, this.sphericalDelta.theta * factor);\n          this.object.quaternion.premultiply(this.q);\n          this.offset.applyQuaternion(this.q);\n        }\n        if (this.sphericalDelta.phi) {\n          this.vec.set(1, 0, 0).applyQuaternion(this.object.quaternion);\n          const factor = this.enableDamping ? this.dampingFactor : 1;\n          this.q.setFromAxisAngle(this.vec, this.sphericalDelta.phi * factor);\n          this.object.quaternion.premultiply(this.q);\n          this.offset.applyQuaternion(this.q);\n        }\n        this.offset.multiplyScalar(this.scale);\n        this.offset.clampLength(this.minDistance, this.maxDistance);\n      } else {\n        this.offset.applyQuaternion(this.quat);\n        if (this.autoRotate && this.state === STATE.NONE) {\n          this.rotateLeft(this.getAutoRotationAngle());\n        }\n        this.spherical.setFromVector3(this.offset);\n        if (this.enableDamping) {\n          this.spherical.theta += this.sphericalDelta.theta * this.dampingFactor;\n          this.spherical.phi += this.sphericalDelta.phi * this.dampingFactor;\n        } else {\n          this.spherical.theta += this.sphericalDelta.theta;\n          this.spherical.phi += this.sphericalDelta.phi;\n        }\n        this.spherical.theta = Math.max(this.minAzimuthAngle, Math.min(this.maxAzimuthAngle, this.spherical.theta));\n        this.spherical.phi = Math.max(this.minPolarAngle, Math.min(this.maxPolarAngle, this.spherical.phi));\n        this.spherical.makeSafe();\n        this.spherical.radius *= this.scale;\n        this.spherical.radius = Math.max(this.minDistance, Math.min(this.maxDistance, this.spherical.radius));\n        this.offset.setFromSpherical(this.spherical);\n        this.offset.applyQuaternion(this.quatInverse);\n      }\n      if (this.enableDamping === true) {\n        this.target.addScaledVector(this.panOffset, this.dampingFactor);\n      } else {\n        this.target.add(this.panOffset);\n      }\n      position.copy(this.target).add(this.offset);\n      if (this.trackball === false) {\n        this.object.lookAt(this.target);\n      }\n      if (this.enableDamping === true) {\n        this.sphericalDelta.theta *= 1 - this.dampingFactor;\n        this.sphericalDelta.phi *= 1 - this.dampingFactor;\n        this.panOffset.multiplyScalar(1 - this.dampingFactor);\n      } else {\n        this.sphericalDelta.set(0, 0, 0);\n        this.panOffset.set(0, 0, 0);\n      }\n      this.scale = 1;\n      if (this.zoomChanged || this.lastPosition.distanceToSquared(this.object.position) > this.EPS || 8 * (1 - this.lastQuaternion.dot(this.object.quaternion)) > this.EPS) {\n        this.dispatchEvent(this.changeEvent);\n        this.lastPosition.copy(this.object.position);\n        this.lastQuaternion.copy(this.object.quaternion);\n        this.zoomChanged = false;\n        return true;\n      }\n      return false;\n    });\n    __publicField(this, \"getAutoRotationAngle\", () => 2 * Math.PI / 60 / 60 * this.autoRotateSpeed);\n    __publicField(this, \"getZoomScale\", () => Math.pow(0.95, this.zoomSpeed));\n    __publicField(this, \"rotateLeft\", (angle) => {\n      this.sphericalDelta.theta -= angle;\n    });\n    __publicField(this, \"rotateUp\", (angle) => {\n      this.sphericalDelta.phi -= angle;\n    });\n    __publicField(this, \"panLeft\", (distance, objectMatrix) => {\n      this.v.setFromMatrixColumn(objectMatrix, 0);\n      this.v.multiplyScalar(-distance);\n      this.panOffset.add(this.v);\n    });\n    __publicField(this, \"panUp\", (distance, objectMatrix) => {\n      if (this.screenSpacePanning === true) {\n        this.v.setFromMatrixColumn(objectMatrix, 1);\n      } else {\n        this.v.setFromMatrixColumn(objectMatrix, 0);\n        this.v.crossVectors(this.object.up, this.v);\n      }\n      this.v.multiplyScalar(distance);\n      this.panOffset.add(this.v);\n    });\n    // deltaX and deltaY are in pixels; right and down are positive\n    __publicField(this, \"pan\", (deltaX, deltaY) => {\n      const element = this.domElement;\n      if (this.object instanceof PerspectiveCamera) {\n        const position = this.object.position;\n        this.offset.copy(position).sub(this.target);\n        let targetDistance = this.offset.length();\n        targetDistance *= Math.tan(this.object.fov / 2 * Math.PI / 180);\n        this.panLeft(2 * deltaX * targetDistance / element.clientHeight, this.object.matrix);\n        this.panUp(2 * deltaY * targetDistance / element.clientHeight, this.object.matrix);\n      } else if (this.object.isOrthographicCamera) {\n        this.panLeft(\n          deltaX * (this.object.right - this.object.left) / this.object.zoom / element.clientWidth,\n          this.object.matrix\n        );\n        this.panUp(\n          deltaY * (this.object.top - this.object.bottom) / this.object.zoom / element.clientHeight,\n          this.object.matrix\n        );\n      } else {\n        console.warn(\"WARNING: CameraControls.js encountered an unknown camera type - pan disabled.\");\n        this.enablePan = false;\n      }\n    });\n    __publicField(this, \"dollyIn\", (dollyScale) => {\n      if (this.object instanceof PerspectiveCamera) {\n        this.scale /= dollyScale;\n      } else if (this.object instanceof OrthographicCamera) {\n        this.object.zoom = Math.max(this.minZoom, Math.min(this.maxZoom, this.object.zoom * dollyScale));\n        this.object.updateProjectionMatrix();\n        this.zoomChanged = true;\n      } else {\n        console.warn(\"WARNING: CameraControls.js encountered an unknown camera type - dolly/zoom disabled.\");\n        this.enableZoom = false;\n      }\n    });\n    __publicField(this, \"dollyOut\", (dollyScale) => {\n      if (this.object instanceof PerspectiveCamera) {\n        this.scale *= dollyScale;\n      } else if (this.object instanceof OrthographicCamera) {\n        this.object.zoom = Math.max(this.minZoom, Math.min(this.maxZoom, this.object.zoom / dollyScale));\n        this.object.updateProjectionMatrix();\n        this.zoomChanged = true;\n      } else {\n        console.warn(\"WARNING: CameraControls.js encountered an unknown camera type - dolly/zoom disabled.\");\n        this.enableZoom = false;\n      }\n    });\n    // event callbacks - update the object state\n    __publicField(this, \"handleMouseDownRotate\", (event) => {\n      this.rotateStart.set(event.clientX, event.clientY);\n    });\n    // TODO: confirm if worthwhile to return the Vector2 instead of void\n    __publicField(this, \"handleMouseDownDolly\", (event) => {\n      this.dollyStart.set(event.clientX, event.clientY);\n    });\n    __publicField(this, \"handleMouseDownPan\", (event) => {\n      this.panStart.set(event.clientX, event.clientY);\n    });\n    __publicField(this, \"handleMouseMoveRotate\", (event) => {\n      this.rotateEnd.set(event.clientX, event.clientY);\n      this.rotateDelta.subVectors(this.rotateEnd, this.rotateStart).multiplyScalar(this.rotateSpeed);\n      const element = this.domElement;\n      this.rotateLeft(2 * Math.PI * this.rotateDelta.x / element.clientHeight);\n      this.rotateUp(2 * Math.PI * this.rotateDelta.y / element.clientHeight);\n      this.rotateStart.copy(this.rotateEnd);\n      this.update();\n    });\n    __publicField(this, \"handleMouseMoveDolly\", (event) => {\n      this.dollyEnd.set(event.clientX, event.clientY);\n      this.dollyDelta.subVectors(this.dollyEnd, this.dollyStart);\n      if (this.dollyDelta.y > 0) {\n        this.dollyIn(this.getZoomScale());\n      } else if (this.dollyDelta.y < 0) {\n        this.dollyOut(this.getZoomScale());\n      }\n      this.dollyStart.copy(this.dollyEnd);\n      this.update();\n    });\n    __publicField(this, \"handleMouseMovePan\", (event) => {\n      this.panEnd.set(event.clientX, event.clientY);\n      this.panDelta.subVectors(this.panEnd, this.panStart).multiplyScalar(this.panSpeed);\n      this.pan(this.panDelta.x, this.panDelta.y);\n      this.panStart.copy(this.panEnd);\n      this.update();\n    });\n    __publicField(this, \"handleMouseWheel\", (event) => {\n      if (event.deltaY < 0) {\n        this.dollyOut(this.getZoomScale());\n      } else if (event.deltaY > 0) {\n        this.dollyIn(this.getZoomScale());\n      }\n      this.update();\n    });\n    __publicField(this, \"handleKeyDown\", (event) => {\n      let needsUpdate = false;\n      switch (event.code) {\n        case this.keys.UP:\n          this.pan(0, this.keyPanSpeed);\n          needsUpdate = true;\n          break;\n        case this.keys.BOTTOM:\n          this.pan(0, -this.keyPanSpeed);\n          needsUpdate = true;\n          break;\n        case this.keys.LEFT:\n          this.pan(this.keyPanSpeed, 0);\n          needsUpdate = true;\n          break;\n        case this.keys.RIGHT:\n          this.pan(-this.keyPanSpeed, 0);\n          needsUpdate = true;\n          break;\n      }\n      if (needsUpdate) {\n        event.preventDefault();\n        this.update();\n      }\n    });\n    __publicField(this, \"handleTouchStartRotate\", (event) => {\n      if (event.touches.length == 1) {\n        this.rotateStart.set(event.touches[0].pageX, event.touches[0].pageY);\n      } else {\n        const x = 0.5 * (event.touches[0].pageX + event.touches[1].pageX);\n        const y = 0.5 * (event.touches[0].pageY + event.touches[1].pageY);\n        this.rotateStart.set(x, y);\n      }\n    });\n    __publicField(this, \"handleTouchStartPan\", (event) => {\n      if (event.touches.length == 1) {\n        this.panStart.set(event.touches[0].pageX, event.touches[0].pageY);\n      } else {\n        const x = 0.5 * (event.touches[0].pageX + event.touches[1].pageX);\n        const y = 0.5 * (event.touches[0].pageY + event.touches[1].pageY);\n        this.panStart.set(x, y);\n      }\n    });\n    __publicField(this, \"handleTouchStartDolly\", (event) => {\n      const dx = event.touches[0].pageX - event.touches[1].pageX;\n      const dy = event.touches[0].pageY - event.touches[1].pageY;\n      const distance = Math.sqrt(dx * dx + dy * dy);\n      this.dollyStart.set(0, distance);\n    });\n    __publicField(this, \"handleTouchStartDollyPan\", (event) => {\n      if (this.enableZoom)\n        this.handleTouchStartDolly(event);\n      if (this.enablePan)\n        this.handleTouchStartPan(event);\n    });\n    __publicField(this, \"handleTouchStartDollyRotate\", (event) => {\n      if (this.enableZoom)\n        this.handleTouchStartDolly(event);\n      if (this.enableRotate)\n        this.handleTouchStartRotate(event);\n    });\n    __publicField(this, \"handleTouchMoveRotate\", (event) => {\n      if (event.touches.length == 1) {\n        this.rotateEnd.set(event.touches[0].pageX, event.touches[0].pageY);\n      } else {\n        const x = 0.5 * (event.touches[0].pageX + event.touches[1].pageX);\n        const y = 0.5 * (event.touches[0].pageY + event.touches[1].pageY);\n        this.rotateEnd.set(x, y);\n      }\n      this.rotateDelta.subVectors(this.rotateEnd, this.rotateStart).multiplyScalar(this.rotateSpeed);\n      const element = this.domElement;\n      this.rotateLeft(2 * Math.PI * this.rotateDelta.x / element.clientHeight);\n      this.rotateUp(2 * Math.PI * this.rotateDelta.y / element.clientHeight);\n      this.rotateStart.copy(this.rotateEnd);\n    });\n    __publicField(this, \"handleTouchMovePan\", (event) => {\n      if (event.touches.length == 1) {\n        this.panEnd.set(event.touches[0].pageX, event.touches[0].pageY);\n      } else {\n        const x = 0.5 * (event.touches[0].pageX + event.touches[1].pageX);\n        const y = 0.5 * (event.touches[0].pageY + event.touches[1].pageY);\n        this.panEnd.set(x, y);\n      }\n      this.panDelta.subVectors(this.panEnd, this.panStart).multiplyScalar(this.panSpeed);\n      this.pan(this.panDelta.x, this.panDelta.y);\n      this.panStart.copy(this.panEnd);\n    });\n    __publicField(this, \"handleTouchMoveDolly\", (event) => {\n      const dx = event.touches[0].pageX - event.touches[1].pageX;\n      const dy = event.touches[0].pageY - event.touches[1].pageY;\n      const distance = Math.sqrt(dx * dx + dy * dy);\n      this.dollyEnd.set(0, distance);\n      this.dollyDelta.set(0, Math.pow(this.dollyEnd.y / this.dollyStart.y, this.zoomSpeed));\n      this.dollyIn(this.dollyDelta.y);\n      this.dollyStart.copy(this.dollyEnd);\n    });\n    __publicField(this, \"handleTouchMoveDollyPan\", (event) => {\n      if (this.enableZoom)\n        this.handleTouchMoveDolly(event);\n      if (this.enablePan)\n        this.handleTouchMovePan(event);\n    });\n    __publicField(this, \"handleTouchMoveDollyRotate\", (event) => {\n      if (this.enableZoom)\n        this.handleTouchMoveDolly(event);\n      if (this.enableRotate)\n        this.handleTouchMoveRotate(event);\n    });\n    //\n    // event handlers - FSM: listen for events and reset state\n    //\n    __publicField(this, \"onMouseDown\", (event) => {\n      if (this.enabled === false)\n        return;\n      event.preventDefault();\n      this.domElement.focus ? this.domElement.focus() : window.focus();\n      let mouseAction;\n      switch (event.button) {\n        case 0:\n          mouseAction = this.mouseButtons.LEFT;\n          break;\n        case 1:\n          mouseAction = this.mouseButtons.MIDDLE;\n          break;\n        case 2:\n          mouseAction = this.mouseButtons.RIGHT;\n          break;\n        default:\n          mouseAction = -1;\n      }\n      switch (mouseAction) {\n        case MOUSE.DOLLY:\n          if (this.enableZoom === false)\n            return;\n          this.handleMouseDownDolly(event);\n          this.state = STATE.DOLLY;\n          break;\n        case MOUSE.ROTATE:\n          if (event.ctrlKey || event.metaKey || event.shiftKey) {\n            if (this.enablePan === false)\n              return;\n            this.handleMouseDownPan(event);\n            this.state = STATE.PAN;\n          } else {\n            if (this.enableRotate === false)\n              return;\n            this.handleMouseDownRotate(event);\n            this.state = STATE.ROTATE;\n          }\n          break;\n        case MOUSE.PAN:\n          if (event.ctrlKey || event.metaKey || event.shiftKey) {\n            if (this.enableRotate === false)\n              return;\n            this.handleMouseDownRotate(event);\n            this.state = STATE.ROTATE;\n          } else {\n            if (this.enablePan === false)\n              return;\n            this.handleMouseDownPan(event);\n            this.state = STATE.PAN;\n          }\n          break;\n        default:\n          this.state = STATE.NONE;\n      }\n      if (this.state !== STATE.NONE) {\n        document.addEventListener(\"mousemove\", this.onMouseMove, false);\n        document.addEventListener(\"mouseup\", this.onMouseUp, false);\n        this.dispatchEvent(this.startEvent);\n      }\n    });\n    __publicField(this, \"onMouseMove\", (event) => {\n      if (this.enabled === false)\n        return;\n      event.preventDefault();\n      switch (this.state) {\n        case STATE.ROTATE:\n          if (this.enableRotate === false)\n            return;\n          this.handleMouseMoveRotate(event);\n          break;\n        case STATE.DOLLY:\n          if (this.enableZoom === false)\n            return;\n          this.handleMouseMoveDolly(event);\n          break;\n        case STATE.PAN:\n          if (this.enablePan === false)\n            return;\n          this.handleMouseMovePan(event);\n          break;\n      }\n    });\n    __publicField(this, \"onMouseUp\", () => {\n      if (this.enabled === false)\n        return;\n      document.removeEventListener(\"mousemove\", this.onMouseMove, false);\n      document.removeEventListener(\"mouseup\", this.onMouseUp, false);\n      this.dispatchEvent(this.endEvent);\n      this.state = STATE.NONE;\n    });\n    __publicField(this, \"onMouseWheel\", (event) => {\n      if (this.enabled === false || this.enableZoom === false || this.state !== STATE.NONE && this.state !== STATE.ROTATE) {\n        return;\n      }\n      event.preventDefault();\n      this.dispatchEvent(this.startEvent);\n      this.handleMouseWheel(event);\n      this.dispatchEvent(this.endEvent);\n    });\n    __publicField(this, \"onKeyDown\", (event) => {\n      if (this.enabled === false || this.enableKeys === false || this.enablePan === false)\n        return;\n      this.handleKeyDown(event);\n    });\n    __publicField(this, \"onTouchStart\", (event) => {\n      if (this.enabled === false)\n        return;\n      event.preventDefault();\n      switch (event.touches.length) {\n        case 1:\n          switch (this.touches.ONE) {\n            case TOUCH.ROTATE:\n              if (this.enableRotate === false)\n                return;\n              this.handleTouchStartRotate(event);\n              this.state = STATE.TOUCH_ROTATE;\n              break;\n            case TOUCH.PAN:\n              if (this.enablePan === false)\n                return;\n              this.handleTouchStartPan(event);\n              this.state = STATE.TOUCH_PAN;\n              break;\n            default:\n              this.state = STATE.NONE;\n          }\n          break;\n        case 2:\n          switch (this.touches.TWO) {\n            case TOUCH.DOLLY_PAN:\n              if (this.enableZoom === false && this.enablePan === false)\n                return;\n              this.handleTouchStartDollyPan(event);\n              this.state = STATE.TOUCH_DOLLY_PAN;\n              break;\n            case TOUCH.DOLLY_ROTATE:\n              if (this.enableZoom === false && this.enableRotate === false)\n                return;\n              this.handleTouchStartDollyRotate(event);\n              this.state = STATE.TOUCH_DOLLY_ROTATE;\n              break;\n            default:\n              this.state = STATE.NONE;\n          }\n          break;\n        default:\n          this.state = STATE.NONE;\n      }\n      if (this.state !== STATE.NONE) {\n        this.dispatchEvent(this.startEvent);\n      }\n    });\n    __publicField(this, \"onTouchMove\", (event) => {\n      if (this.enabled === false)\n        return;\n      event.preventDefault();\n      switch (this.state) {\n        case STATE.TOUCH_ROTATE:\n          if (this.enableRotate === false)\n            return;\n          this.handleTouchMoveRotate(event);\n          this.update();\n          break;\n        case STATE.TOUCH_PAN:\n          if (this.enablePan === false)\n            return;\n          this.handleTouchMovePan(event);\n          this.update();\n          break;\n        case STATE.TOUCH_DOLLY_PAN:\n          if (this.enableZoom === false && this.enablePan === false)\n            return;\n          this.handleTouchMoveDollyPan(event);\n          this.update();\n          break;\n        case STATE.TOUCH_DOLLY_ROTATE:\n          if (this.enableZoom === false && this.enableRotate === false)\n            return;\n          this.handleTouchMoveDollyRotate(event);\n          this.update();\n          break;\n        default:\n          this.state = STATE.NONE;\n      }\n    });\n    __publicField(this, \"onTouchEnd\", () => {\n      if (this.enabled === false)\n        return;\n      this.dispatchEvent(this.endEvent);\n      this.state = STATE.NONE;\n    });\n    __publicField(this, \"onContextMenu\", (event) => {\n      if (this.enabled === false)\n        return;\n      event.preventDefault();\n    });\n    if (domElement === void 0) {\n      console.warn('THREE.CameraControls: The second parameter \"domElement\" is now mandatory.');\n    }\n    if (domElement instanceof Document) {\n      console.error(\n        'THREE.CameraControls: \"document\" should not be used as the target \"domElement\". Please use \"renderer.domElement\" instead.'\n      );\n    }\n    this.object = object;\n    this.domElement = domElement;\n    this.mouseButtons = {\n      LEFT: MOUSE.ROTATE,\n      MIDDLE: MOUSE.DOLLY,\n      RIGHT: MOUSE.PAN\n    };\n    this.target0 = this.target.clone();\n    this.position0 = this.object.position.clone();\n    this.quaternion0 = this.object.quaternion.clone();\n    this.zoom0 = this.object.zoom;\n    this.quat = new Quaternion().setFromUnitVectors(this.object.up, new Vector3(0, 1, 0));\n    this.quatInverse = this.quat.clone().invert();\n    this.lastPosition = new Vector3();\n    this.lastQuaternion = new Quaternion();\n    this.domElement.addEventListener(\"contextmenu\", this.onContextMenu, false);\n    this.domElement.addEventListener(\"mousedown\", this.onMouseDown, false);\n    this.domElement.addEventListener(\"wheel\", this.onMouseWheel, false);\n    this.domElement.addEventListener(\"touchstart\", this.onTouchStart, false);\n    this.domElement.addEventListener(\"touchend\", this.onTouchEnd, false);\n    this.domElement.addEventListener(\"touchmove\", this.onTouchMove, false);\n    this.domElement.addEventListener(\"keydown\", this.onKeyDown, false);\n    if (this.domElement.tabIndex === -1) {\n      this.domElement.tabIndex = 0;\n    }\n    this.object.lookAt(this.target);\n    this.update();\n    this.saveState();\n  }\n  handleMouseUp() {\n  }\n  handleTouchEnd() {\n  }\n}\nclass OrbitControlsExp extends CameraControls {\n  constructor(object, domElement) {\n    super(object, domElement);\n    __publicField(this, \"mouseButtons\");\n    __publicField(this, \"touches\");\n    this.mouseButtons = {\n      LEFT: MOUSE.ROTATE,\n      RIGHT: MOUSE.PAN\n    };\n    this.touches = {\n      ONE: TOUCH.ROTATE,\n      TWO: TOUCH.DOLLY_PAN\n    };\n  }\n}\nclass MapControlsExp extends CameraControls {\n  constructor(object, domElement) {\n    super(object, domElement);\n    __publicField(this, \"mouseButtons\");\n    __publicField(this, \"touches\");\n    this.mouseButtons = {\n      LEFT: MOUSE.PAN,\n      RIGHT: MOUSE.ROTATE\n    };\n    this.touches = {\n      ONE: TOUCH.PAN,\n      TWO: TOUCH.DOLLY_ROTATE\n    };\n  }\n}\nclass TrackballControlsExp extends CameraControls {\n  constructor(object, domElement) {\n    super(object, domElement);\n    __publicField(this, \"trackball\");\n    __publicField(this, \"screenSpacePanning\");\n    __publicField(this, \"autoRotate\");\n    __publicField(this, \"mouseButtons\");\n    __publicField(this, \"touches\");\n    this.trackball = true;\n    this.screenSpacePanning = true;\n    this.autoRotate = false;\n    this.mouseButtons = {\n      LEFT: MOUSE.ROTATE,\n      RIGHT: MOUSE.PAN\n    };\n    this.touches = {\n      ONE: TOUCH.ROTATE,\n      TWO: TOUCH.DOLLY_PAN\n    };\n  }\n}\nexport {\n  CameraControls,\n  MapControlsExp,\n  OrbitControlsExp,\n  STATE,\n  TrackballControlsExp\n};\n//# sourceMappingURL=CameraControls.js.map\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}