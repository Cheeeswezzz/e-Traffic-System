{"ast":null,"code":"import React,{useState}from'react';import{Link,useLocation}from'react-router-dom';import{useAuth}from'../contexts/AuthContext';import{Menu,X,Home,FileText,Users,BarChart3,Settings,User,LogOut,Bell}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Layout=_ref=>{let{children}=_ref;const{user,logout}=useAuth();const location=useLocation();const[sidebarOpen,setSidebarOpen]=useState(false);const isAdmin=(user===null||user===void 0?void 0:user.role)==='admin';const adminNavItems=[{name:'Dashboard',href:'/dashboard',icon:Home},{name:'Violations',href:'/violations',icon:FileText},{name:'Enforcers',href:'/enforcers',icon:Users},{name:'Reports',href:'/reports',icon:BarChart3},{name:'Settings',href:'/settings',icon:Settings}];const enforcerNavItems=[{name:'Dashboard',href:'/dashboard',icon:Home},{name:'Violations',href:'/violations',icon:FileText},{name:'Profile',href:'/profile',icon:User}];const navItems=isAdmin?adminNavItems:enforcerNavItems;const handleLogout=async()=>{await logout();};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar \".concat(sidebarOpen?'sidebar-open':'sidebar-closed',\" lg:translate-x-0\"),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between h-16 px-6 border-b border-gray-200\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-bold text-primary-600\",children:\"e-Traffic\"})})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSidebarOpen(false),className:\"lg:hidden p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100\",children:/*#__PURE__*/_jsx(X,{className:\"h-6 w-6\"})})]}),/*#__PURE__*/_jsx(\"nav\",{className:\"mt-6 px-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"space-y-1\",children:navItems.map(item=>{const isActive=location.pathname===item.href;return/*#__PURE__*/_jsxs(Link,{to:item.href,className:\"group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors \".concat(isActive?'bg-primary-100 text-primary-700':'text-gray-600 hover:bg-gray-50 hover:text-gray-900'),onClick:()=>setSidebarOpen(false),children:[/*#__PURE__*/_jsx(item.icon,{className:\"mr-3 h-5 w-5 \".concat(isActive?'text-primary-500':'text-gray-400 group-hover:text-gray-500')}),item.name]},item.name);})})}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute bottom-0 left-0 right-0 p-4 border-t border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-8 w-8 rounded-full bg-primary-100 flex items-center justify-center\",children:/*#__PURE__*/_jsx(User,{className:\"h-4 w-4 text-primary-600\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-3\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-700\",children:user===null||user===void 0?void 0:user.full_name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 capitalize\",children:user===null||user===void 0?void 0:user.role})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,className:\"p-2 text-gray-400 hover:text-gray-500 hover:bg-gray-100 rounded-md\",children:/*#__PURE__*/_jsx(LogOut,{className:\"h-4 w-4\"})})]})})]}),sidebarOpen&&/*#__PURE__*/_jsx(\"div\",{className:\"sidebar-overlay sidebar-overlay-open lg:hidden\",onClick:()=>setSidebarOpen(false)}),/*#__PURE__*/_jsxs(\"div\",{className:\"lg:pl-64\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sticky top-0 z-40 flex items-center gap-x-6 bg-white px-4 py-4 shadow-sm sm:px-6 lg:hidden\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"-m-2.5 p-2.5 text-gray-700 lg:hidden\",onClick:()=>setSidebarOpen(true),children:/*#__PURE__*/_jsx(Menu,{className:\"h-6 w-6\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 text-sm font-semibold leading-6 text-gray-900\",children:\"e-Traffic System\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"p-2 text-gray-400 hover:text-gray-500\",children:/*#__PURE__*/_jsx(Bell,{className:\"h-5 w-5\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-6 w-6 rounded-full bg-primary-100 flex items-center justify-center\",children:/*#__PURE__*/_jsx(User,{className:\"h-3 w-3 text-primary-600\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-700\",children:user===null||user===void 0?void 0:user.full_name})]})]})]}),/*#__PURE__*/_jsx(\"main\",{className:\"py-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8\",children:children})})]})]});};export default Layout;","map":{"version":3,"names":["React","useState","Link","useLocation","useAuth","Menu","X","Home","FileText","Users","BarChart3","Settings","User","LogOut","Bell","jsx","_jsx","jsxs","_jsxs","Layout","_ref","children","user","logout","location","sidebarOpen","setSidebarOpen","isAdmin","role","adminNavItems","name","href","icon","enforcerNavItems","navItems","handleLogout","className","concat","onClick","map","item","isActive","pathname","to","full_name","type"],"sources":["C:/Users/Marcelo/OneDrive/Documents/Desktop/e-traffic system/client/src/components/Layout.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Link, useLocation } from 'react-router-dom';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport {\r\n  Menu,\r\n  X,\r\n  Home,\r\n  FileText,\r\n  Users,\r\n  BarChart3,\r\n  Settings,\r\n  User,\r\n  LogOut,\r\n  Bell,\r\n} from 'lucide-react';\r\n\r\nconst Layout = ({ children }) => {\r\n  const { user, logout } = useAuth();\r\n  const location = useLocation();\r\n  const [sidebarOpen, setSidebarOpen] = useState(false);\r\n\r\n  const isAdmin = user?.role === 'admin';\r\n\r\n  const adminNavItems = [\r\n    { name: 'Dashboard', href: '/dashboard', icon: Home },\r\n    { name: 'Violations', href: '/violations', icon: FileText },\r\n    { name: 'Enforcers', href: '/enforcers', icon: Users },\r\n    { name: 'Reports', href: '/reports', icon: BarChart3 },\r\n    { name: 'Settings', href: '/settings', icon: Settings },\r\n  ];\r\n\r\n  const enforcerNavItems = [\r\n    { name: 'Dashboard', href: '/dashboard', icon: Home },\r\n    { name: 'Violations', href: '/violations', icon: FileText },\r\n    { name: 'Profile', href: '/profile', icon: User },\r\n  ];\r\n\r\n  const navItems = isAdmin ? adminNavItems : enforcerNavItems;\r\n\r\n  const handleLogout = async () => {\r\n    await logout();\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      {/* Sidebar */}\r\n      <div className={`sidebar ${sidebarOpen ? 'sidebar-open' : 'sidebar-closed'} lg:translate-x-0`}>\r\n        <div className=\"flex items-center justify-between h-16 px-6 border-b border-gray-200\">\r\n          <div className=\"flex items-center\">\r\n            <div className=\"flex-shrink-0\">\r\n              <h1 className=\"text-xl font-bold text-primary-600\">e-Traffic</h1>\r\n            </div>\r\n          </div>\r\n          <button\r\n            onClick={() => setSidebarOpen(false)}\r\n            className=\"lg:hidden p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100\"\r\n          >\r\n            <X className=\"h-6 w-6\" />\r\n          </button>\r\n        </div>\r\n\r\n        <nav className=\"mt-6 px-3\">\r\n          <div className=\"space-y-1\">\r\n            {navItems.map((item) => {\r\n              const isActive = location.pathname === item.href;\r\n              return (\r\n                <Link\r\n                  key={item.name}\r\n                  to={item.href}\r\n                  className={`group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors ${\r\n                    isActive\r\n                      ? 'bg-primary-100 text-primary-700'\r\n                      : 'text-gray-600 hover:bg-gray-50 hover:text-gray-900'\r\n                  }`}\r\n                  onClick={() => setSidebarOpen(false)}\r\n                >\r\n                  <item.icon\r\n                    className={`mr-3 h-5 w-5 ${\r\n                      isActive ? 'text-primary-500' : 'text-gray-400 group-hover:text-gray-500'\r\n                    }`}\r\n                  />\r\n                  {item.name}\r\n                </Link>\r\n              );\r\n            })}\r\n          </div>\r\n        </nav>\r\n\r\n        <div className=\"absolute bottom-0 left-0 right-0 p-4 border-t border-gray-200\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"flex items-center\">\r\n              <div className=\"flex-shrink-0\">\r\n                <div className=\"h-8 w-8 rounded-full bg-primary-100 flex items-center justify-center\">\r\n                  <User className=\"h-4 w-4 text-primary-600\" />\r\n                </div>\r\n              </div>\r\n              <div className=\"ml-3\">\r\n                <p className=\"text-sm font-medium text-gray-700\">{user?.full_name}</p>\r\n                <p className=\"text-xs text-gray-500 capitalize\">{user?.role}</p>\r\n              </div>\r\n            </div>\r\n            <button\r\n              onClick={handleLogout}\r\n              className=\"p-2 text-gray-400 hover:text-gray-500 hover:bg-gray-100 rounded-md\"\r\n            >\r\n              <LogOut className=\"h-4 w-4\" />\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Overlay */}\r\n      {sidebarOpen && (\r\n        <div\r\n          className=\"sidebar-overlay sidebar-overlay-open lg:hidden\"\r\n          onClick={() => setSidebarOpen(false)}\r\n        />\r\n      )}\r\n\r\n      {/* Main content */}\r\n      <div className=\"lg:pl-64\">\r\n        {/* Top bar */}\r\n        <div className=\"sticky top-0 z-40 flex items-center gap-x-6 bg-white px-4 py-4 shadow-sm sm:px-6 lg:hidden\">\r\n          <button\r\n            type=\"button\"\r\n            className=\"-m-2.5 p-2.5 text-gray-700 lg:hidden\"\r\n            onClick={() => setSidebarOpen(true)}\r\n          >\r\n            <Menu className=\"h-6 w-6\" />\r\n          </button>\r\n          <div className=\"flex-1 text-sm font-semibold leading-6 text-gray-900\">\r\n            e-Traffic System\r\n          </div>\r\n          <div className=\"flex items-center gap-x-4\">\r\n            <button className=\"p-2 text-gray-400 hover:text-gray-500\">\r\n              <Bell className=\"h-5 w-5\" />\r\n            </button>\r\n            <div className=\"flex items-center gap-x-2\">\r\n              <div className=\"h-6 w-6 rounded-full bg-primary-100 flex items-center justify-center\">\r\n                <User className=\"h-3 w-3 text-primary-600\" />\r\n              </div>\r\n              <span className=\"text-sm font-medium text-gray-700\">{user?.full_name}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Page content */}\r\n        <main className=\"py-6\">\r\n          <div className=\"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8\">\r\n            {children}\r\n          </div>\r\n        </main>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Layout;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}