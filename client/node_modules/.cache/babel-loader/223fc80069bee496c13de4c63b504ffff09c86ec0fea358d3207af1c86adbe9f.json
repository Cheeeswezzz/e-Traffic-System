{"ast":null,"code":"import _objectSpread from\"C:/Users/Marcelo/OneDrive/Documents/Desktop/e-traffic system/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{useForm}from'react-hook-form';import{useAuth}from'../contexts/AuthContext';import{toast}from'react-hot-toast';import{Eye,EyeOff,Shield}from'lucide-react';import LoadingSpinner from'../components/LoadingSpinner';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Login=()=>{const{login}=useAuth();const[showPassword,setShowPassword]=useState(false);const[isLoading,setIsLoading]=useState(false);const{register,handleSubmit,formState:{errors}}=useForm();const onSubmit=async data=>{setIsLoading(true);try{const result=await login(data.email,data.password);if(result.success){toast.success('Login successful!');}else{toast.error(result.error);}}catch(error){toast.error('Login failed. Please try again.');}finally{setIsLoading(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 to-primary-100 py-12 px-4 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-md w-full space-y-8\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"mx-auto h-12 w-12 flex items-center justify-center rounded-full bg-primary-100\",children:/*#__PURE__*/_jsx(Shield,{className:\"h-6 w-6 text-primary-600\"})}),/*#__PURE__*/_jsx(\"h2\",{className:\"mt-6 text-center text-3xl font-extrabold text-gray-900\",children:\"e-Traffic System\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-center text-sm text-gray-600\",children:\"Sign in to your account\"})]}),/*#__PURE__*/_jsxs(\"form\",{className:\"mt-8 space-y-6\",onSubmit:handleSubmit(onSubmit),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"block text-sm font-medium text-gray-700\",children:\"Email address\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-1\",children:[/*#__PURE__*/_jsx(\"input\",_objectSpread({id:\"email\",name:\"email\",type:\"email\",autoComplete:\"email\",required:true,className:\"input \".concat(errors.email?'border-danger-300 focus:border-danger-500 focus:ring-danger-500':''),placeholder:\"Enter your email\"},register('email',{required:'Email is required',pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i,message:'Invalid email address'}}))),errors.email&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-danger-600\",children:errors.email.message})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"block text-sm font-medium text-gray-700\",children:\"Password\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-1 relative\",children:[/*#__PURE__*/_jsx(\"input\",_objectSpread({id:\"password\",name:\"password\",type:showPassword?'text':'password',autoComplete:\"current-password\",required:true,className:\"input pr-10 \".concat(errors.password?'border-danger-300 focus:border-danger-500 focus:ring-danger-500':''),placeholder:\"Enter your password\"},register('password',{required:'Password is required',minLength:{value:6,message:'Password must be at least 6 characters'}}))),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"absolute inset-y-0 right-0 pr-3 flex items-center\",onClick:()=>setShowPassword(!showPassword),children:showPassword?/*#__PURE__*/_jsx(EyeOff,{className:\"h-5 w-5 text-gray-400\"}):/*#__PURE__*/_jsx(Eye,{className:\"h-5 w-5 text-gray-400\"})}),errors.password&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-danger-600\",children:errors.password.message})]})]})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",disabled:isLoading,className:\"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed\",children:[isLoading?/*#__PURE__*/_jsx(LoadingSpinner,{size:\"sm\",className:\"mr-2\"}):null,isLoading?'Signing in...':'Sign in']})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:\"Default admin credentials: admin@etraffic.com / admin123\"})})]})]})});};export default Login;","map":{"version":3,"names":["React","useState","useForm","useAuth","toast","Eye","EyeOff","Shield","LoadingSpinner","jsx","_jsx","jsxs","_jsxs","Login","login","showPassword","setShowPassword","isLoading","setIsLoading","register","handleSubmit","formState","errors","onSubmit","data","result","email","password","success","error","className","children","htmlFor","_objectSpread","id","name","type","autoComplete","required","concat","placeholder","pattern","value","message","minLength","onClick","disabled","size"],"sources":["C:/Users/Marcelo/OneDrive/Documents/Desktop/e-traffic system/client/src/pages/Login.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport { toast } from 'react-hot-toast';\r\nimport { Eye, EyeOff, Shield } from 'lucide-react';\r\nimport LoadingSpinner from '../components/LoadingSpinner';\r\n\r\nconst Login = () => {\r\n  const { login } = useAuth();\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors },\r\n  } = useForm();\r\n\r\n  const onSubmit = async (data) => {\r\n    setIsLoading(true);\r\n    try {\r\n      const result = await login(data.email, data.password);\r\n      if (result.success) {\r\n        toast.success('Login successful!');\r\n      } else {\r\n        toast.error(result.error);\r\n      }\r\n    } catch (error) {\r\n      toast.error('Login failed. Please try again.');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 to-primary-100 py-12 px-4 sm:px-6 lg:px-8\">\r\n      <div className=\"max-w-md w-full space-y-8\">\r\n        <div>\r\n          <div className=\"mx-auto h-12 w-12 flex items-center justify-center rounded-full bg-primary-100\">\r\n            <Shield className=\"h-6 w-6 text-primary-600\" />\r\n          </div>\r\n          <h2 className=\"mt-6 text-center text-3xl font-extrabold text-gray-900\">\r\n            e-Traffic System\r\n          </h2>\r\n          <p className=\"mt-2 text-center text-sm text-gray-600\">\r\n            Sign in to your account\r\n          </p>\r\n        </div>\r\n\r\n        <form className=\"mt-8 space-y-6\" onSubmit={handleSubmit(onSubmit)}>\r\n          <div className=\"space-y-4\">\r\n            <div>\r\n              <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700\">\r\n                Email address\r\n              </label>\r\n              <div className=\"mt-1\">\r\n                <input\r\n                  id=\"email\"\r\n                  name=\"email\"\r\n                  type=\"email\"\r\n                  autoComplete=\"email\"\r\n                  required\r\n                  className={`input ${errors.email ? 'border-danger-300 focus:border-danger-500 focus:ring-danger-500' : ''}`}\r\n                  placeholder=\"Enter your email\"\r\n                  {...register('email', {\r\n                    required: 'Email is required',\r\n                    pattern: {\r\n                      value: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i,\r\n                      message: 'Invalid email address',\r\n                    },\r\n                  })}\r\n                />\r\n                {errors.email && (\r\n                  <p className=\"mt-1 text-sm text-danger-600\">{errors.email.message}</p>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            <div>\r\n              <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700\">\r\n                Password\r\n              </label>\r\n              <div className=\"mt-1 relative\">\r\n                <input\r\n                  id=\"password\"\r\n                  name=\"password\"\r\n                  type={showPassword ? 'text' : 'password'}\r\n                  autoComplete=\"current-password\"\r\n                  required\r\n                  className={`input pr-10 ${errors.password ? 'border-danger-300 focus:border-danger-500 focus:ring-danger-500' : ''}`}\r\n                  placeholder=\"Enter your password\"\r\n                  {...register('password', {\r\n                    required: 'Password is required',\r\n                    minLength: {\r\n                      value: 6,\r\n                      message: 'Password must be at least 6 characters',\r\n                    },\r\n                  })}\r\n                />\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"absolute inset-y-0 right-0 pr-3 flex items-center\"\r\n                  onClick={() => setShowPassword(!showPassword)}\r\n                >\r\n                  {showPassword ? (\r\n                    <EyeOff className=\"h-5 w-5 text-gray-400\" />\r\n                  ) : (\r\n                    <Eye className=\"h-5 w-5 text-gray-400\" />\r\n                  )}\r\n                </button>\r\n                {errors.password && (\r\n                  <p className=\"mt-1 text-sm text-danger-600\">{errors.password.message}</p>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div>\r\n            <button\r\n              type=\"submit\"\r\n              disabled={isLoading}\r\n              className=\"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n            >\r\n              {isLoading ? (\r\n                <LoadingSpinner size=\"sm\" className=\"mr-2\" />\r\n              ) : null}\r\n              {isLoading ? 'Signing in...' : 'Sign in'}\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"text-center\">\r\n            <p className=\"text-xs text-gray-500\">\r\n              Default admin credentials: admin@etraffic.com / admin123\r\n            </p>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}